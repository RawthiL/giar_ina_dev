schema: '2.0'
stages:
  cell_segmentation_ina:
    cmd: python ./cell_segmentation.py --seed 42 --sam_model SAM/sam_vit_h_4b8939.pth
      --gpus_list 0 --device cuda --cell_dataset_name ina --output ./outputs
    deps:
    - path: ./cell_segmentation.py
      hash: md5
      md5: 4cd31608fbb01d39d256fb3cb3c4737b
      size: 3192
    params:
      params.yaml:
        dataset.sam_model: SAM/sam_vit_h_4b8939.pth
        general.device: cuda
        general.gpus_list: 0
        general.seed: 42
    outs:
    - path: ./outputs/cropped/ina/data
      hash: md5
      md5: a9b07a8540265f5ba3d891001b70b2a7.dir
      size: 2374440
      nfiles: 392
  cell_segmentation_onion_cell_merged_train:
    cmd: python ./cell_segmentation.py --seed 42 --sam_model SAM/sam_vit_h_4b8939.pth
      --gpus_list 0 --device cuda --cell_dataset_name onion_cell_merged --cell_dataset_section
      train --output ./outputs
    deps:
    - path: ./cell_segmentation.py
      hash: md5
      md5: 4cd31608fbb01d39d256fb3cb3c4737b
      size: 3192
    params:
      params.yaml:
        dataset.sam_model: SAM/sam_vit_h_4b8939.pth
        general.device: cuda
        general.gpus_list: 0
        general.seed: 42
    outs:
    - path: ./outputs/cropped/onion_cell_merged/data/train
      hash: md5
      md5: b25ce2b92f9d9149217867f6d75c1649.dir
      size: 1103710
      nfiles: 452
  cell_segmentation_onion_cell_merged_test:
    cmd: python ./cell_segmentation.py --seed 42 --sam_model SAM/sam_vit_h_4b8939.pth
      --gpus_list 0 --device cuda --cell_dataset_name onion_cell_merged --cell_dataset_section
      test --output ./outputs
    deps:
    - path: ./cell_segmentation.py
      hash: md5
      md5: 4cd31608fbb01d39d256fb3cb3c4737b
      size: 3192
    params:
      params.yaml:
        dataset.sam_model: SAM/sam_vit_h_4b8939.pth
        general.device: cuda
        general.gpus_list: 0
        general.seed: 42
    outs:
    - path: ./outputs/cropped/onion_cell_merged/data/test
      hash: md5
      md5: f8ff6311244b7c42376af62469ec99a8.dir
      size: 158332
      nfiles: 63
  cell_segmentation_onion_cell_merged_valid:
    cmd: python ./cell_segmentation.py --seed 42 --sam_model SAM/sam_vit_h_4b8939.pth
      --gpus_list 0 --device cuda --cell_dataset_name onion_cell_merged --cell_dataset_section
      valid --output ./outputs
    deps:
    - path: ./cell_segmentation.py
      hash: md5
      md5: 4cd31608fbb01d39d256fb3cb3c4737b
      size: 3192
    params:
      params.yaml:
        dataset.sam_model: SAM/sam_vit_h_4b8939.pth
        general.device: cuda
        general.gpus_list: 0
        general.seed: 42
    outs:
    - path: ./outputs/cropped/onion_cell_merged/data/valid
      hash: md5
      md5: bc2562db43827b9125d66502815e41fe.dir
      size: 295381
      nfiles: 129
  cell_area_analysis:
    cmd: python ./cell_area_analysis.py --seed 42 --output ./outputs/cropped --reference_csv_path
      ./outputs/cropped/ina/data --ajust_csv_path ./outputs/cropped/onion_cell_merged/data/train
      --bin_start 0 --bin_end 100000 --bin_width 400 --min_area_threshold 6000 --max_area_threshold
      30000
    deps:
    - path: ./cell_area_analysis.py
      hash: md5
      md5: 6ca12dceaee8fbdb40975ba8309ac42e
      size: 14349
    - path: ./outputs/cropped/ina/data
      hash: md5
      md5: a9b07a8540265f5ba3d891001b70b2a7.dir
      size: 2374440
      nfiles: 392
    - path: ./outputs/cropped/onion_cell_merged/data/train
      hash: md5
      md5: b25ce2b92f9d9149217867f6d75c1649.dir
      size: 1103710
      nfiles: 452
    params:
      params.yaml:
        analysis.adjust_path: ./outputs/cropped/onion_cell_merged/data/train
        analysis.area_max: 30000
        analysis.area_min: 6000
        analysis.bin_end: 100000
        analysis.bin_start: 0
        analysis.bin_width: 400
        analysis.output: ./outputs/cropped
        analysis.reference_path: ./outputs/cropped/ina/data
        general.seed: 42
    outs:
    - path: ./outputs/cropped/datasets_area_data.json
      hash: md5
      md5: 7959ef002bc2caddbfa11868d0017e26
      size: 1273
  crop_cells_ina:
    cmd: python ./crop_cells.py --seed 42 --cell_dataset_name ina --output ./outputs
      --target_img_side_px 200
    deps:
    - path: ./crop_cells.py
      hash: md5
      md5: 01b541341c224158781f5d4851733021
      size: 4627
    - path: ./outputs/cropped/datasets_area_data.json
      hash: md5
      md5: 7959ef002bc2caddbfa11868d0017e26
      size: 1273
    params:
      params.yaml:
        crop.target_img_side_px: 200
        dataset.sam_model: SAM/sam_vit_h_4b8939.pth
        general.device: cuda
        general.gpus_list: 0
        general.seed: 42
    outs:
    - path: ./outputs/cropped/ina/images
      hash: md5
      md5: 2a8cb494a4d120b02fd74c71b0c11564.dir
      size: 3926891222
      nfiles: 53643
  crop_cells_onion_cell_merged_train:
    cmd: python ./crop_cells.py --seed 42 --cell_dataset_name onion_cell_merged --output
      ./outputs --target_img_side_px 200 --cell_dataset_section train
    deps:
    - path: ./crop_cells.py
      hash: md5
      md5: 01b541341c224158781f5d4851733021
      size: 4627
    - path: ./outputs/cropped/datasets_area_data.json
      hash: md5
      md5: 7959ef002bc2caddbfa11868d0017e26
      size: 1273
    params:
      params.yaml:
        crop.target_img_side_px: 200
        dataset.sam_model: SAM/sam_vit_h_4b8939.pth
        general.device: cuda
        general.gpus_list: 0
        general.seed: 42
    outs:
    - path: ./outputs/cropped/onion_cell_merged/images/train
      hash: md5
      md5: 4a107a9eb2e3c171d76841e56e924bf5.dir
      size: 1621911002
      nfiles: 30774
  crop_cells_onion_cell_merged_test:
    cmd: python ./crop_cells.py --seed 42 --cell_dataset_name onion_cell_merged --output
      ./outputs --target_img_side_px 200 --cell_dataset_section test
    deps:
    - path: ./crop_cells.py
      hash: md5
      md5: 01b541341c224158781f5d4851733021
      size: 4627
    - path: ./outputs/cropped/datasets_area_data.json
      hash: md5
      md5: 7959ef002bc2caddbfa11868d0017e26
      size: 1273
    params:
      params.yaml:
        crop.target_img_side_px: 200
        dataset.sam_model: SAM/sam_vit_h_4b8939.pth
        general.device: cuda
        general.gpus_list: 0
        general.seed: 42
    outs:
    - path: ./outputs/cropped/onion_cell_merged/images/test
      hash: md5
      md5: 176107afdbf4d5defca596f003dc98a9.dir
      size: 234578450
      nfiles: 4425
  crop_cells_onion_cell_merged_valid:
    cmd: python ./crop_cells.py --seed 42 --cell_dataset_name onion_cell_merged --output
      ./outputs --target_img_side_px 200 --cell_dataset_section valid
    deps:
    - path: ./crop_cells.py
      hash: md5
      md5: 01b541341c224158781f5d4851733021
      size: 4627
    - path: ./outputs/cropped/datasets_area_data.json
      hash: md5
      md5: 7959ef002bc2caddbfa11868d0017e26
      size: 1273
    params:
      params.yaml:
        crop.target_img_side_px: 200
        dataset.sam_model: SAM/sam_vit_h_4b8939.pth
        general.device: cuda
        general.gpus_list: 0
        general.seed: 42
    outs:
    - path: ./outputs/cropped/onion_cell_merged/images/valid
      hash: md5
      md5: 3edfb6c6866a7816fa2fce14ba22f0e1.dir
      size: 431501224
      nfiles: 8179
